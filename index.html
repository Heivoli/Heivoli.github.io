<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Heivoli Network</title>

<style>
:root{
  --bg:#000; --panel:#111; --border:#222;
  --text:#ddd; --muted:#777; --accent:#1f8cff;
}
body{margin:0;font-family:Arial,sans-serif;background:var(--bg);color:var(--text);}
a{color:#aaa;text-decoration:none;} a:hover{color:#fff;text-decoration:underline;}
header{padding:15px;border-bottom:1px solid var(--border);text-align:center;}
.site-title{font-size:24px;font-weight:bold;color:#fff;}
.tabs{display:inline-flex;gap:8px;margin-top:8px;flex-wrap:wrap;justify-content:center;}
.tab{background:none;color:var(--muted);border:1px solid transparent;padding:6px 10px;border-radius:6px;cursor:pointer;}
.tab[aria-selected="true"]{color:#fff;background:#111;border-color:#333;}
.banner{height:220px;background:url('https://i.postimg.cc/QC7rH0qg/Heivoli-Network.png') center/cover;border:1px solid var(--border);margin-bottom:15px;}
.container{max-width:1200px;margin:auto;padding:15px;display:grid;grid-template-columns:3fr 1fr;gap:15px;}
.content{background:var(--panel);border:1px solid var(--border);padding:15px;}
.page{display:none;}
.page.active{display:block;}
.card{background:#050505;border:1px solid var(--border);padding:12px;border-radius:8px;margin-bottom:12px;}
input,button{padding:8px;border-radius:6px;border:1px solid var(--border);background:#111;color:#ddd;}
button.primary{background:var(--accent);border:none;cursor:pointer;}
button.secondary{background:#111;cursor:pointer;}
.form-row{display:flex;gap:8px;margin-bottom:8px;}
.muted{color:var(--muted);font-size:13px;}
.art-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;}
.art-grid img{width:100%;height:140px;object-fit:cover;border-radius:6px;border:1px solid var(--border);}
.side{display:flex;flex-direction:column;gap:15px;}
footer{text-align:center;font-size:12px;color:var(--muted);padding:10px;border-top:1px solid var(--border);}
@media(max-width:900px){
  .container{grid-template-columns:1fr;}
  .art-grid{grid-template-columns:repeat(2,1fr);}
}
@media(max-width:500px){
  .art-grid{grid-template-columns:1fr;}
}
</style>
</head>

<body>

<header>
  <div class="site-title">Heivoli Network</div>
  <div class="tabs">
    <button class="tab" data-page="home" aria-selected="true">Accueil</button>
    <button class="tab" data-page="about">À propos</button>
    <button class="tab" data-page="art">Art du mois</button>
    <button class="tab" data-page="community">Communauté</button>
    <button class="tab" data-page="artcommunity">Art de la communauté</button>
  </div>
</header>

<div class="container">
<div class="content">

<div class="banner"></div>

<section id="page-home" class="page active">
  <h1>Accueil</h1>
  <p>Bienvenue sur Heivoli Network.</p>
</section>

<section id="page-about" class="page">
  <h1>À propos</h1>
  <p>Communauté artistique indépendante.</p>
</section>

<section id="page-art" class="page">
  <h1>Art du mois</h1>
  <div class="art-grid">
    <img src="https://via.placeholder.com/300">
    <img src="https://via.placeholder.com/300">
    <img src="https://via.placeholder.com/300">
  </div>
</section>

<section id="page-community" class="page">
  <h1>Communauté</h1>

  <div class="card" id="auth-card">
    <h3>Connexion / Inscription</h3>
    <div class="form-row">
      <input id="pseudo" placeholder="Pseudo">
      <input id="password" type="password" placeholder="Mot de passe">
    </div>
    <div class="form-row">
      <button id="register" class="primary">Créer un compte</button>
      <button id="login" class="secondary">Se connecter</button>
    </div>
    <p id="auth-msg" class="muted"></p>
  </div>

  <div class="card" id="upload-card" style="display:none">
    <h3>Publier un dessin</h3>
    <input type="file" id="file">
    <input id="title" placeholder="Titre (optionnel)">
    <button id="upload" class="primary">Uploader</button>
    <button id="logout" class="secondary">Déconnexion</button>
    <p id="upload-msg" class="muted"></p>
  </div>
</section>

<section id="page-artcommunity" class="page">
  <h1>Art de la communauté</h1>
  <div id="art-grid" class="art-grid"></div>
</section>

</div>

<div class="side">
  <div class="card">
    <h3>Règles</h3>
    <ul class="muted">
      <li>NSFW interdit</li>
      <li>Pas de vol d'œuvres</li>
      <li>Max 10MB</li>
    </ul>
  </div>
</div>
</div>

<footer>© 2026 Heivoli Network</footer>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-storage-compat.js"></script>

<script>
const firebaseConfig={
  apiKey:"API_KEY_ICI",
  authDomain:"PROJECT_ID.firebaseapp.com",
  projectId:"PROJECT_ID",
  storageBucket:"PROJECT_ID.appspot.com",
  appId:"APP_ID"
};
firebase.initializeApp(firebaseConfig);
const auth=firebase.auth();
const db=firebase.firestore();
const storage=firebase.storage();

/* Onglets */
document.querySelectorAll('.tab').forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll('.tab').forEach(b=>b.setAttribute('aria-selected','false'));
    btn.setAttribute('aria-selected','true');
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    document.getElementById('page-'+btn.dataset.page).classList.add('active');
  }
});

/* Auth */
register.onclick=async()=>{
  try{
    await auth.createUserWithEmailAndPassword(pseudo.value+"@site.com",password.value);
    authMsg.textContent="Compte créé";
  }catch(e){authMsg.textContent=e.message;}
};
login.onclick=async()=>{
  try{
    await auth.signInWithEmailAndPassword(pseudo.value+"@site.com",password.value);
  }catch(e){authMsg.textContent=e.message;}
};
logout.onclick=()=>auth.signOut();

auth.onAuthStateChanged(u=>{
  uploadCard.style.display=u?"block":"none";
});

/* Upload */
upload.onclick=async()=>{
  if(!file.files[0]) return;
  const ref=storage.ref("uploads/"+Date.now());
  await ref.put(file.files[0]);
  const url=await ref.getDownloadURL();
  await db.collection("uploads").add({url,createdAt:Date.now()});
  loadArt();
};

async function loadArt(){
  artGrid.innerHTML="";
  const snap=await db.collection("uploads").orderBy("createdAt","desc").get();
  snap.forEach(d=>{
    const img=document.createElement("img");
    img.src=d.data().url;
    artGrid.appendChild(img);
  });
}
loadArt();
</script>

</body>
</html>
